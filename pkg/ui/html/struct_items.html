{{ $uri := .URI }}
{{ $name := .Name }}
<h3>List of {{ .Name }} items</h3>
<p>
  <button hx-get="{{ $uri }}x/struct_item/{{ .Name }}/" hx-trigger="click" hx-target="#add_content" hx-swap="innerHTML">add</button>
  select:
  <button>all</button>
  <button>none</button>
  <button>invert</button>
  do with selected:
  <button>delete</button>
</p>

<div id="add_content"></div>

<table>
  <thead>
      <th></th>
    {{ range .Fields }}
      <th>{{ . }}</th>
    {{ end }}
    <th>Actions</th>
  </thead>
  <tbody>
    {{ range .ItemsHTML }}
      <tr>
        {{ $split := SplitRow . }}
        <td>checkbox</td>
        {{ index $split 1 }}
        <td>
          <button class="small_btn" hx-get="{{ $uri }}x/struct_item/{{ $name }}/{{ index $split 0 }}" hx-trigger="click" hx-target="closest div" hx-swap="innerHTML">edit</button>
          <button class="small_btn" hx-delete="{{ $uri }}x/struct_item/{{ $name }}/{{ index $split 0 }}" hx-trigger="click" hx-target="closest tr" hx-swap="delete">remove</button>
        </td>
      </tr>
    {{ end }}
  </tbody>
</table>
